<!doctype html>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="author" content="Wolfgang HÃ¶hn" />
		<title>TV Style Overlay &middot; iRacing Browser Apps</title>
		<!-- bootstrap -->
		<link rel="stylesheet" type="text/css" href="/libs/bootstrap/css/bootstrap.min.css">
		<!-- less -->
		<link rel="stylesheet/less" type="text/css" href="css/overlay.less" />
		<script src="/libs/less.min.js"></script>
		<!-- jquery -->
		<script src="/libs/jquery.min.js"></script>
		<!-- velocity -->
		<script src="lib/velocity.min.js"></script>
		<!-- angular -->
		<script src="/libs/angular/angular.min.js"></script>
		<script src="/libs/angular/angular-animate.min.js"></script>
		<script src="/libs/angular/angular-route.min.js"></script>
		<script src="/libs/angular/angular-sanitize.min.js"></script>
		<!-- coffee -->
		<script src="/libs/coffee-script.js"></script>
		<script src="/libs/ir.coffee" type="text/coffeescript"></script>
		<script src="js/overlay.coffee" type="text/coffeescript"></script>
	</head>
	<body ng-cloak>
		<div ng-controller="GapCtrl" class="gap">
			<div class="gap-title">Gap</div>
			<div app-gap-wrapper class="gap-item-wrapper">
				<div ng-repeat="i in standings track by i.CarIdx" app-gap-item="i.CarIdx" class="gap-item">
					<!-- position -->
					<div app-standings-position="i.CarIdx" class="position"></div>
					<!-- teamname -->
					<div class="team-name" ng-bind="ir.WeekendInfo.TeamRacing ? ir.DriversByCarIdx[i.CarIdx].TeamName : ir.DriversByCarIdx[i.CarIdx].UserName"></div>
					<!-- gap -->
					<div app-gap-time="i.CarIdx" class="gap-time"></div>
					<br>
					<!-- car number -->
					<div app-car-number="i.CarIdx" class="car-number"></div>
					<!-- name -->
					<div class="driver-name" ng-bind="ir.WeekendInfo.TeamRacing ? ir.DriversByCarIdx[i.CarIdx].UserName : ir.DriversByCarIdx[i.CarIdx].CarScreenNameShort"></div>
					<!-- interval -->
					<div app-int-time="i.CarIdx" class="int-time"></div>
					<!-- other -->
					<div class="other">
						<!-- pit -->
						<span ng-show="i && ir.CarIdxOnPitRoad[i.CarIdx]" ng-class="{ 'stall': ir.CarIdxTrackSurface[i.CarIdx] == 1 }" class="pit">P</span>
						<!-- offtrack -->
						<span ng-show="i && ir.CarIdxTrackSurface[i.CarIdx] == 0" class="offtrack glyphicon glyphicon-warning-sign"></span>
					</div>
					<div class="divider"></div>
				</div>
			</div>
		</div>
		<div ng-controller="SessionCtrl" class="session-info">
			<div class="info-wrapper">
				<div ng-hide="ir.SessionTimeRemain < 604800" ng-class="{ 'checkered-flag': ir.SessionState >= 5 }" app-session-lap></div>
				<div ng-show="ir.SessionTimeRemain < 604800" ng-class="{ 'checkered-flag': ir.SessionState >= 5 }" app-session-time></div>
			</div>
		</div>
		<div ng-controller="CarCtrl" class="driver-info">
			<div class="driver-info-top">
				<!-- car number -->
				<div app-car-number="ir.CamCarIdx" class="car-number"></div>
				<!-- teamname -->
				<div class="team-name" ng-bind="ir.WeekendInfo.TeamRacing ? ir.DriversByCarIdx[ir.CamCarIdx].TeamName : ir.DriversByCarIdx[ir.CamCarIdx].UserName"></div>
				<!-- position -->
				<div class="position" ng-class="{ 'multi': ir.WeekendInfo.NumCarClasses > 1 }">
					<span class="text-overall"><span class="text">{{ir.WeekendInfo.NumCarClasses > 1 ? 'Overall' : 'Position'}}</span></span>
					<span class="overall" app-overall-position="ir.CamCarIdx"></span>
					<span class="text-class" ng-show="ir.WeekendInfo.NumCarClasses > 1"><span class="text">In Class</span></span>
					<span class="class" ng-show="ir.WeekendInfo.NumCarClasses > 1" app-class-position="ir.CamCarIdx"></span>
				</div>
			</div>
			<div class="driver-info-bottom">
				<!-- name -->
				<div class="driver-name" ng-bind="ir.WeekendInfo.TeamRacing ? ir.DriversByCarIdx[ir.CamCarIdx].UserName : ir.DriversByCarIdx[ir.CamCarIdx].CarScreenNameShort"></div>
				<!-- car manufacturer-->
				<div class="car-name" ng-show="ir.WeekendInfo.TeamRacing" ng-bind="ir.DriversByCarIdx[ir.CamCarIdx].CarScreenNameShort"></div>
			</div>
		</div>
	</body>
</html>
